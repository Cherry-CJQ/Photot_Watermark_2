# Photot Watermark Tool - Project Requirements Document (PRD)

## 1. 项目概述

### 1.1 项目简介
Photot Watermark Tool 是一款用于给图片添加水印的桌面应用程序，主要面向需要批量处理图片水印的用户。该工具支持文本水印和图片水印，提供实时预览功能，并允许用户保存和管理水印模板。

### 1.2 目标用户
- 需要为图片添加水印的摄影师和设计师
- 需要批量处理图片水印的电商运营人员
- 希望保护图片版权的内容创作者

### 1.3 核心功能
- 支持多种图片格式的导入和导出
- 提供文本水印和图片水印两种水印类型
- 支持实时预览水印效果
- 提供水印模板管理功能
- 支持批量处理图片

## 2. 功能需求

### 2.1 文件处理

#### 2.1.1 导入图片
- 支持单张图片拖拽或通过文件选择器导入
- 支持批量导入，可一次性选择多张图片或直接导入整个文件夹
- 在界面上显示已导入图片的列表（缩略图和文件名）

#### 2.1.2 支持格式
- 输入格式：JPEG, PNG, BMP, TIFF（PNG格式必须支持透明通道）
- 输出格式：用户可选择输出为 JPEG 或 PNG

#### 2.1.3 导出图片
- 用户可指定一个输出文件夹，为防止覆盖原图，默认禁止导出到原文件夹
- 提供导出文件命名规则选项：
  - 保留原文件名
  - 添加自定义前缀（如 wm_）
  - 添加自定义后缀（如 _watermarked）
- 对于 JPEG 格式，提供图片质量（压缩率）调节滑块（0-100）
- 导出时允许用户调整图片尺寸（如按宽度、高度或百分比缩放）

### 2.2 水印类型

#### 2.2.1 文本水印
- 内容：用户可自定义输入任意文本
- 字体：可选择系统已安装的字体、字号、粗体、斜体
- 颜色：提供调色板让用户选择字体颜色
- 透明度：可调节文本的透明度（0-100%）
- 样式：可添加阴影或描边效果，以增强在复杂背景下的可读性

#### 2.2.2 图片水印
- 用户可从本地选择一张图片（如Logo）作为水印
- 必须支持带透明通道的 PNG 图片
- 缩放：可按比例或自由调整图片水印的大小
- 透明度：可调节图片水印的整体透明度（0-100%）

### 2.3 水印布局与样式

#### 2.3.1 实时预览
- 所有对水印的调整都应在主预览窗口中实时显示效果
- 用户可以点击图片列表切换预览不同的图片

#### 2.3.2 位置
- 预设位置：提供九宫格布局（四角、正中心），用户可一键将水印放置在这些位置
- 手动拖拽：用户可以直接在预览图上通过鼠标拖拽水印到任意位置

#### 2.3.3 旋转
- 提供一个滑块或输入框，允许用户以任意角度旋转水印

### 2.4 配置管理

#### 2.4.1 水印模板
- 用户可以将当前的水印设置（包括水印内容、字体、颜色、位置、大小、透明度等所有参数）保存为一个模板
- 用户可以加载、管理和删除已保存的模板
- 程序启动时可自动加载上一次关闭时的设置或一个默认模板

## 3. 非功能需求

### 3.1 性能要求
- 应用程序启动时间不超过5秒
- 单张图片处理时间不超过2秒
- 批量处理100张图片时间不超过2分钟

### 3.2 兼容性要求
- 支持Windows 10及以上版本

### 3.3 用户界面要求
- 界面简洁直观，易于操作
- 支持主流屏幕分辨率
- 提供良好的用户体验

### 3.4 安全性要求
- 不收集用户隐私信息
- 不访问网络（除非用户主动选择网络图片作为水印）
- 处理后的图片仅保存在用户指定位置

## 4. 技术要求

### 4.1 开发环境
- 编程语言：待定（建议使用适用于Windows桌面应用的技术）
- 开发工具：待定

### 4.2 部署要求
- 提供可以直接下载运行的 Windows 文件
- 需要提供 GitHub release 版本
- 程序应为独立可执行文件，无需额外安装依赖

## 5. 项目交付

### 5.1 交付内容
- 完整的源代码
- 可执行程序（Windows）
- 使用说明文档
- GitHub release版本

### 5.2 验收标准
- 所有核心功能正常运行
- 符合性能要求
- 用户界面友好
- 提供完整的使用文档